<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WAR ROOM - ABILITY</title>
  
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <header class="header">
    <div class="header-top">
      <h1>WAR ROOM <span class="brand-tag">ABILITY</span></h1>
      <small id="lastUpdate">Conectando API...</small>
    </div>
    
    <div class="filter-bar">
      <div class="filter-group-labeled">
        <label>HISTÃ“RICO:</label>
        <select id="yearSelect" class="styled-select"></select>
        <select id="monthSelect" class="styled-select">
          <option value="0">Selecione MÃªs</option>
          <option value="1">Janeiro</option>
          <option value="2">Fevereiro</option>
          <option value="3">MarÃ§o</option>
          <option value="4">Abril</option>
          <option value="5">Maio</option>
          <option value="6">Junho</option>
          <option value="7">Julho</option>
          <option value="8">Agosto</option>
          <option value="9">Setembro</option>
          <option value="10">Outubro</option>
          <option value="11">Novembro</option>
          <option value="12">Dezembro</option>
        </select>
        <button id="btnHistory" class="action-btn">IR</button>
      </div>
      <div class="filter-divider"></div>
      <div class="filter-group">
        <button class="filter-btn active" data-view="d0">D-0 (Hoje)</button>
        <button class="filter-btn" data-view="d1">D-1</button>
        <button class="filter-btn" data-view="d2">D-2</button>
      </div>
      <div class="filter-divider"></div>
      <div class="filter-group">
        <button class="filter-btn" data-view="semana">Semana</button>
        <button class="filter-btn" data-view="quinzena">Quinzena</button>
      </div>
      <div class="header-actions">
        <button id="refreshBtn" title="Atualizar">â†»</button>
        <button id="exportPngBtn" title="Salvar Imagens">ðŸ“¸ Salvar</button>
      </div>
    </div>
  </header>

  <main id="dashboard" style="padding: 20px;">
    
    <div id="print-section-charts">
        
        <div class="row-container">
            <div class="col-half card card-backlog">
                <div class="card-header">
                    <h3>Backlog Litoral (Acumulado)</h3>
                    </div>
                <div class="backlog-content">
                    <div class="backlog-display-large" id="valBackLitLarge">0</div>
                    <div class="backlog-list-area" id="listBackLit"></div>
                </div>
            </div>

            <div class="col-half card card-backlog">
                <div class="card-header">
                    <h3>Backlog SJC (Acumulado)</h3>
                </div>
                <div class="backlog-content">
                    <div class="backlog-display-large" id="valBackSJCLarge">0</div>
                    <div class="backlog-list-area" id="listBackSJC"></div>
                </div>
            </div>
        </div>

        <div class="row-container">
            <div class="col-quarter card">
                <div class="card-header"><h3 style="font-size: 14px;">Status Litoral</h3></div>
                <div class="chart-container-small"><canvas id="statusLit"></canvas></div>
                <div class="legend"></div>
            </div>
            <div class="col-quarter card">
                <div class="card-header"><h3 style="font-size: 14px;">Status SJC</h3></div>
                <div class="chart-container-small"><canvas id="statusSJC"></canvas></div>
                <div class="legend"></div>
            </div>
            <div class="col-quarter card">
                <div class="card-header"><h3 style="font-size: 14px;">SLA Fechamento Litoral</h3></div>
                <div class="chart-container-small"><canvas id="slaLit"></canvas></div>
                <div class="legend"><span class="pill pill-green">OK</span><span class="pill pill-red">NOK</span></div>
            </div>
            <div class="col-quarter card">
                <div class="card-header"><h3 style="font-size: 14px;">SLA Fechamento SJC</h3></div>
                <div class="chart-container-small"><canvas id="slaSJC"></canvas></div>
                <div class="legend"><span class="pill pill-green">OK</span><span class="pill pill-red">NOK</span></div>
            </div>
        </div>
    </div>

    <div class="spacer" style="height: 20px;"></div>

    <div id="print-section-details">
        <div class="row-container">
            <div class="col-half card" style="border-top: 4px solid #be123c;">
                <div class="card-header"><h3 style="color:#be123c">CrÃ­ticos > 24h (Litoral)</h3></div>
                <div class="table-responsive">
                    <table class="data-table" id="tableCritLit">
                        <thead>
                            <tr>
                                <th>Ocorrencia</th>
                                <th>Aging</th>
                                <th>AT</th>
                                <th class="col-icon">ðŸ’Ž Vip / Hunter</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="col-half card" style="border-top: 4px solid #be123c;">
                <div class="card-header"><h3 style="color:#be123c">CrÃ­ticos > 24h (SJC)</h3></div>
                <div class="table-responsive">
                    <table class="data-table" id="tableCritSJC">
                        <thead>
                            <tr>
                                <th>Ocorrencia</th>
                                <th>Aging</th>
                                <th>AT</th>
                                <th class="col-icon">ðŸ’Ž Vip / Hunter</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="card card-wide" style="border-top: 4px solid #0f172a; margin-bottom: 15px;">
            <div class="card-header"><h3 style="color:#660099">ðŸ’Ž Casos Especiais (VIP / Hunter)</h3></div>
            <div style="display:flex; gap:20px;">
                <div style="flex:1;"><h4>LITORAL</h4><div class="list-container" id="listVipLit" style="height:150px;"></div></div>
                <div style="width:1px; background:#e5e7eb;"></div>
                <div style="flex:1;"><h4>SJC</h4><div class="list-container" id="listVipSJC" style="height:150px;"></div></div>
            </div>
        </div>

        <div class="row-container">
            <div class="col-full card">
                <div class="card-header"><h3>ðŸ“… EvoluÃ§Ã£o DiÃ¡ria (Entrada vs Fora SLA)</h3></div>
                <div class="chart-container-wide">
                    <canvas id="chartTimelineSLA"></canvas>
                </div>
            </div>
        </div>
    </div>

  </main>
  
  <script src="historico_2025.js"></script>
  <script src="js/app.js"></script>
</body>
</html>